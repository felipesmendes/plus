!function(t){t.fn.plus=function(e){var n={entity:"",expression:/\[(\w+)\]$/,message:"VocÃª deve ter pelo menos 1 registro",remove:'<input id="remover" type="button" value="&nbsp;-&nbsp;" title="Remover"/>',add:!1,controls:'<tr><td><input id="adicionar" type="button" value="&nbsp;+&nbsp;" title="Adicionar" /></td></tr>'};e&&t.extend(n,e);var r=t(this),i=t(this).find("thead"),o=t(this).find("tbody");n.add===!0&&t(i).append(t(n.controls)),r.on("click","#adicionar",function(){var e=o.find("tr").length;o.find("tr:last").clone().appendTo(o);var r=o.find("tr:last").find("input");r.each(function(i,o){var a=t(o).attr("name"),d=t(o).attr("id"),s=n.expression.exec(a);"remover"!=d&&(t(o).attr("name",n.entity+"["+e+"]["+s[1]+"]"),t(o).val(""),t(o).attr("id",d+i),i==r.length-1&&t(o).parent().parent().parent().append("<td>"+t(n.remove)+"</td>"))})}),r.on("click","#remover",function(){t(this).closest("tr").remove()})}}(jQuery);
