!function(t){t.fn.plus=function(e){var n={entity:"",expression:/\[(\w+)\]$/,message:"VocÃª deve ter pelo menos 1 registro",remove:'<input id="remover" type="button" value="&nbsp;-&nbsp;" title="Remover"/>',controls:'<tr><td><input id="adicionar" type="button" value="&nbsp;+&nbsp;" title="Adicionar" /></td></tr>'};e&&t.extend(n,e);var i=t(this),r=t(this).find("thead"),o=t(this).find("tbody");t(r).append(t(n.controls)),i.on("click","#adicionar",function(){var e=o.find("tr").length;o.find("tr:last").clone().appendTo(o);var i=o.find("tr:last").find("input");i.each(function(r,o){var a=t(o).attr("name"),s=t(o).attr("id"),d=n.expression.exec(a);"remover"!=s&&(t(o).attr("name",n.entity+"["+e+"]["+d[1]+"]"),t(o).val(""),r==i.length-1&&t(o).parent().append(t(n.remove)))})}),i.on("click","#remover",function(){t(this).closest("tr").remove()})}}(jQuery);
