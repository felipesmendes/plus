!function(t){t.fn.plus=function(e,n){var r={entity:"",expression:/\[(\w+)\]$/,message:"VocÃª deve ter pelo menos 1 registro",remove:'<input id="remover" type="button" value="&nbsp;-&nbsp;" title="Remover"/>',add:!1,controls:'<tr><td><input id="adicionar" type="button" value="&nbsp;+&nbsp;" title="Adicionar" /></td></tr>'};e&&t.extend(r,e);var i=t(this),o=t(this).find("thead"),a=t(this).find("tbody");r.add===!0&&t(o).append(t(r.controls)),i.on("click","#adicionar",function(){var e=a.find("tr").length;a.find("tr:first").clone().appendTo(a);var i=a.find("tr:last").find("input");i.each(function(n,o){var a=t(o).attr("name"),d=t(o).attr("id"),s=r.expression.exec(a);"remover"!=d&&(t(o).attr("name",r.entity+"["+e+"]["+s[1]+"]"),t(o).val(""),t(o).attr("id",d+e),n==i.length-1&&t(o).parent().parent().parent().append("<td>"+r.remove+"</td>"))}),n()}),i.on("click","#remover",function(){t(this).closest("tr").remove(),n()})}}(jQuery);